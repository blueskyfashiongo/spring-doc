### 아이템 66 네이티브 메서드는 신중히 사용하라
- 자바 네이티브 인터페이스 (Java Native Interface, JNI)는 자바 프로그램이 네이티브 메서드를 호출하는 기술
  - 네이티브 메서드: C나 C++같은 네이티브 프로그래밍 언어로 작성한 메서드를 말함
    - **기능 1. 레지스트리 같은 플랙폼 특화 기능을 사용**
      - 자바도 성숙해가면서 (OS 같은) 하부 플랫폼의 기능들을 점차 흡수하고 있음
      - 예를 들어 자바 9은 process API를 추가해 OS 프로세스에 접근하는 길을 열어줌
      - 네이티브 메서드를 사용할 필요성이 줄어들고 있음
    - **기능 2. 네이티브 코드로 작성된 기존 라이브러리 사용** (레거시 데이터를 사용하는 레거시 라이브러리)
    - **기능 3. 성능 개선을 목적으로 성능에 결정적인 영향을 주는 영역만 따로 네이티브 언어로 작성**
      - **거의 권장하지 않음 **
      - 자바 초기 시절 (java 3 전)이라면 이야기가 다르지만, JVM이 그동안 엄청난 속도로 발전해옴
      - 예를 들어 java.math가 처음 추가된 java 1.1 버전에서 BigInteger는 C로 작성한 고성능 라이브러리에 의지
      - java 3 때 순수 자바로 다시 구현되면서 세심히 튜닝한 결과, 네이티브 구현보다도 더 빨라졌다
      - 그치만 java 8에서 큰 수의 곱셈 성능을 개선한 것을 제외하고는 BigInteger에 큰 변화는 없었다
      - 한편 네이티브 라이브러리 쪽은 GNU 다중 정밀 연산 라이브러리(GMP)를 필두로 개선 작업이 계속되어 다중 정밀 연산이 필요하다면 네이티브 메서드를 통해 GMP를 사용하는 걸 고려해도 좋음
    - 심각한 단점
      - 이식성이 낮고, 디버깅도 어렵고, 오히려 느려질 수 이음.
      - 가비지 컬렉터가 네이티브 메모리는 자동 회수하지 못하고, 추적조차 할 수 없다. 네이티브 메서드와 자바 코드 사이의 접착 코드(glue code) 작성도 귀찮음
